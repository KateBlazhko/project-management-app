/*! For license information please see 371.1335bfd9.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[371],{6732:function(e,t,n){n.d(t,{_:function(){return i}});var r=n(4165),a=n(5861),o=n(3699);function i(e,t,n,r){return s.apply(this,arguments)}function s(){return(s=(0,a.Z)((0,r.Z)().mark((function e(t,n,a,i){var s,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o.hM,"/").concat(n,"/columns/").concat(a,"/tasks/").concat(i),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:if((s=e.sent).ok){e.next=6;break}throw new Error("Request failed with status code ".concat(s.status));case 6:return e.next=8,s.json();case 8:return c=e.sent,e.abrupt("return",c);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}},1371:function(e,t,n){n.r(t),n.d(t,{default:function(){return ke}});var r=n(5987),a=n(9142),o=n(4942),i=n(3433),s=n(1413),c=n(4165),u=n(5861),l=n(9439),d=n(1486),p=n(7205),f=n(4565),h=n(3699);function x(e,t,n){return Z.apply(this,arguments)}function Z(){return(Z=(0,u.Z)((0,c.Z)().mark((function e(t,n,r){var a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(h.hM,"/").concat(n,"/columns"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(r)});case 3:if((a=e.sent).ok){e.next=6;break}throw new Error("Request failed with status code ".concat(a.status));case 6:return e.next=8,a.json();case 8:return o=e.sent,e.abrupt("return",o);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function v(e,t){return m.apply(this,arguments)}function m(){return(m=(0,u.Z)((0,c.Z)().mark((function e(t,n){var r,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h.GN,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n)});case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Request failed with status code ".concat(r.status));case 6:return e.next=8,r.json();case 8:return a=e.sent,e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var k=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(t,n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n,t.map((function(e,t){return{_id:e._id,order:t}})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function b(e,t){return j.apply(this,arguments)}function j(){return(j=(0,u.Z)((0,c.Z)().mark((function e(t,n){var r,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h.TO,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n)});case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Request failed with status code ".concat(r.status));case 6:return e.next=8,r.json();case 8:return a=e.sent,e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var g=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(t,n,r){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(r,t.map((function(e,t){return{_id:e._id,order:t,columnId:n}})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),w=n(2601),y=n(3811),C=n(6916);function _(e,t,n){return T.apply(this,arguments)}function T(){return(T=(0,u.Z)((0,c.Z)().mark((function e(t,n,r){var a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(h.hM,"/").concat(n,"/columns/").concat(r),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:if((a=e.sent).ok){e.next=6;break}throw new Error("Request failed with status code ".concat(a.status));case 6:return e.next=8,a.json();case 8:return o=e.sent,e.abrupt("return",o);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function S(e,t,n,r){return B.apply(this,arguments)}function B(){return(B=(0,u.Z)((0,c.Z)().mark((function e(t,n,r,a){var o,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(h.hM,"/").concat(n,"/columns/").concat(r),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(a)});case 3:if((o=e.sent).ok){e.next=6;break}throw new Error("Request failed with status code ".concat(o.status));case 6:return e.next=8,o.json();case 8:return i=e.sent,e.abrupt("return",i);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function I(e,t,n,r){return O.apply(this,arguments)}function O(){return(O=(0,u.Z)((0,c.Z)().mark((function e(t,n,r,a){var o,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(h.hM,"/").concat(n,"/columns/").concat(r,"/tasks"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(a)});case 3:if((o=e.sent).ok){e.next=6;break}throw new Error("Request failed with status code ".concat(o.status));case 6:return e.next=8,o.json();case 8:return i=e.sent,e.abrupt("return",i);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var E=n(6732),D=n(799),N=n(228),M=n(8877),P=n(8344),R=n(8311),A=n(2791),z=n(3168),q=n(184),W={marginTop:1,paddingRight:3,display:"flex",alignItems:"center",justifyContent:"center",gap:1};function F(e){var t=(0,z.$)().t,n=(0,A.useRef)();(0,A.useEffect)((function(){var t;n.current.value=e.titleColumn;var r=function(e){var t;"Enter"===e.key&&(e.preventDefault(),null===(t=n.current)||void 0===t||t.blur())};return null===(t=n.current)||void 0===t||t.addEventListener("keypress",r),function(){var e;null===(e=n.current)||void 0===e||e.removeEventListener("keypress",r)}}),[]);return(0,q.jsx)("form",{style:{width:"100%"},onSubmit:function(t){var r=n.current.value;e.handleClickEdit(t,r),e.setIsInput(!1)},children:(0,q.jsxs)(N.Z,{children:[(0,q.jsx)(M.Z,{variant:"outlined",label:t("boards.formColumnTitle"),name:"title",inputRef:n,autoFocus:!0,multiline:!0,fullWidth:!0,required:!0,sx:{wordBreak:"break-word",paddingRight:3}}),(0,q.jsxs)(N.Z,{sx:W,children:[(0,q.jsx)(y.Z,{type:"submit",color:"success",children:(0,q.jsx)(P.Z,{})}),(0,q.jsx)(y.Z,{onClick:function(){e.setIsInput(!1)},color:"colorful",children:(0,q.jsx)(R.Z,{})})]})]})})}var L=n(9434),U=n(7504),$={maxWidth:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:5},H={title:"",description:""};function J(e){var t=(0,z.$)().t,n=(0,A.useState)(H),r=(0,l.Z)(n,2),a=r[0],i=r[1],c=(0,L.I0)(),u=(0,L.v9)((function(e){return e.auth})),d=u.id,f=u.token;(0,A.useEffect)((function(){c((0,U.is)({token:f,idUser:d}))}),[f,d,c]);var h=function(e){var t=e.target,n=t.name,r=t.value;i((0,s.Z)((0,s.Z)({},a),{},(0,o.Z)({},n,r)))};return(0,q.jsx)("form",{style:{width:"100%"},onSubmit:function(t){e.handleClickCreateTask(t,a.title,a.description,d||""),e.setOpenModal(!1)},children:(0,q.jsxs)(N.Z,{sx:$,children:[(0,q.jsx)(M.Z,{variant:"outlined",label:t("boards.formTaskTitle"),name:"title",value:a.title,onChange:h,multiline:!0,autoFocus:!0,fullWidth:!0,required:!0,sx:{wordBreak:"break-word"}}),(0,q.jsx)(M.Z,{variant:"outlined",label:t("boards.formTaskDesc"),name:"description",value:a.description,onChange:h,multiline:!0,minRows:5,fullWidth:!0,required:!0,sx:{wordBreak:"break-word"}}),(0,q.jsx)(p.Z,{type:"submit",variant:"outlined",size:"large",color:"success",children:t("boards.addButton")})]})})}var Y=n(2002),K=n(7087),V=n(483),G=n(793),Q=function(e){var t=e.tasks,n=e.idColumn,r=e.delTask,a=e.editTask;return(0,q.jsx)(q.Fragment,{children:t.map((function(e,t){return(0,q.jsx)(G._l,{draggableId:e._id,index:t,children:function(t,o){return(0,q.jsx)(V.Z,{idColumn:n,task:e,delTask:r,editTask:a,provider:t,isDragging:o.isDragging})}},e._id)}))})},X=(0,A.memo)(Q),ee=n(7637),te=n(4164),ne=n(7689),re="Column_list__V4Omg",ae="Column_column__Wwl4Y",oe="droppableColumn",ie=function(){return(0,C.P1)([function(e){return e.board.taskByColumns},function(e,t){return t}],(function(e,t){return e?e[t]:[]}))},se=(0,C.P1)([function(e){return e.auth}],(function(e){return e.token})),ce=function(e){var t=e.id,n=e.title,r=e.index,a=e.order,o=e.addTask,i=e.delColumn,h=e.delTask,x=e.editTask,Z=(0,z.$)().t,v=(0,ne.UO)().id,m=(0,A.useState)(!1),k=(0,l.Z)(m,2),b=k[0],j=k[1],g=(0,L.v9)((function(e){return se(e)})),C=(0,A.useMemo)(ie,[]),T=(0,L.v9)((function(e){return C(e,t)})),B=(0,A.useState)(!1),O=(0,l.Z)(B,2),N=O[0],M=O[1],P=(0,A.useState)(!1),R=(0,l.Z)(P,2),W=R[0],U=R[1],$=(0,A.useState)(null),H=(0,l.Z)($,2),V=H[0],Q=H[1],ce=(0,A.useState)(!1),ue=(0,l.Z)(ce,2),le=ue[0],de=ue[1],pe=function(){return j(!0)},fe=function(){return M(!0)},he=function(){return U(!0)},xe=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(n,r,a,i){var s,u;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!g||!v){e.next=10;break}return s={order:T.length,userId:i,users:[i],title:r,description:a},de(!0),e.next=6,I(g,v,t,s);case 6:return u=e.sent,de(!1),o(u),e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Ze=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!g||!v){e.next=8;break}return de(!0),Promise.all(T.map(function(){var e=(0,u.Z)((0,c.Z)().mark((function e(n){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n._id,e.next=3,(0,E._)(g,v,t,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.next=6,_(g,v,t);case 6:de(!1),i(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(n,r){var o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g||!v){e.next=8;break}return de(!0),e.next=4,S(g,v,t,{title:r,order:a});case 4:return o=e.sent,de(!1),Q(o),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,q.jsxs)(q.Fragment,{children:[le&&(0,te.createPortal)((0,q.jsx)(Y.Z,{}),ee.Y),(0,q.jsx)(G._l,{draggableId:t,index:r,children:function(e){return(0,q.jsxs)("div",(0,s.Z)((0,s.Z)((0,s.Z)({},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,className:ae,children:[W?(0,q.jsx)(F,{titleColumn:V?V.title:n,setIsInput:U,handleClickEdit:ve}):(0,q.jsx)(f.Z,{variant:"h6",sx:{width:"100%",fontFamily:'"Noto Sans", sans-serif',letterSpacing:"0.0625rem",fontWeight:700,fontSize:"18px",color:"#1c4931",textTransform:"uppercase",textAlign:"left",wordBreak:"break-word",paddingRight:3,cursor:"pointer"},onClick:he,children:V?V.title:n}),(0,q.jsx)(G.bK,{droppableId:t,type:oe,children:function(e){return(0,q.jsxs)("div",(0,s.Z)((0,s.Z)({className:re,ref:e.innerRef},e.droppableProps),{},{children:[(0,q.jsx)(X,{tasks:T,delTask:h,idColumn:t,editTask:x}),e.placeholder]}))}}),(0,q.jsx)(p.Z,{variant:"outlined",endIcon:(0,q.jsx)(d.Z,{}),color:"success",onClick:pe,children:Z("boards.formTaskCreate")}),b&&(0,q.jsx)(K.P,{title:Z("boards.formTaskCreate"),openModal:b,setOpenModal:j,children:(0,q.jsx)(J,{handleClickCreateTask:xe,openModal:b,setOpenModal:j})}),(0,q.jsx)(y.Z,{onClick:fe,"aria-label":"delete",sx:{position:"absolute",top:"1%",right:"1%",zIndex:2},children:(0,q.jsx)(w.Z,{})}),N&&(0,q.jsx)(D.D,{title:Z("boards.dialogColumn"),openDialog:N,setOpenDialog:M,func:Ze})]}))}})]})},ue=(0,A.memo)(ce),le={maxWidth:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:5};function de(e){var t=(0,z.$)().t,n=(0,A.useState)(""),r=(0,l.Z)(n,2),a=r[0],o=r[1];return(0,q.jsx)("form",{style:{width:"100%"},onSubmit:function(t){e.handleClickCreateColumn(t,a),e.setOpenModal(!1)},children:(0,q.jsxs)(N.Z,{sx:le,children:[(0,q.jsx)(M.Z,{variant:"outlined",label:t("boards.formColumnTitle"),name:"title",value:a,onChange:function(e){var t=e.target.value;o(t)},autoFocus:!0,multiline:!0,fullWidth:!0,required:!0,sx:{wordBreak:"break-word"}}),(0,q.jsx)(p.Z,{type:"submit",variant:"outlined",size:"large",color:"success",children:t("boards.addButton")})]})})}var pe=function(e,t,n){var r=(0,i.Z)(e),a=r.splice(t,1),o=(0,l.Z)(a,1)[0];return r.splice(n,0,o),r.map((function(e,t){return(0,s.Z)((0,s.Z)({},e),{},{order:t})}))},fe=n(6252),he=n(5415),xe="Board_wrap__SjgoN",Ze="Board_board__lhTAO",ve="Board_create__ZbPMl",me="droppableBoard",ke=function(){var e=(0,z.$)().t,t=(0,ne.UO)().id,n=(0,ne.s0)(),h=(0,L.I0)(),Z=(0,L.v9)((function(e){return e.board})),v=Z.titleBoard,m=Z.columns,b=Z.taskByColumns,j=Z.isLoading,w=(0,L.v9)((function(e){return e.auth})).token,y=(0,A.useState)(!1),C=(0,l.Z)(y,2),_=C[0],T=C[1],S=(0,A.useState)(!1),B=(0,l.Z)(S,2),I=B[0],O=B[1];(0,A.useEffect)((function(){if(t&&w){var e=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h((0,he.Iq)({token:w,idBoard:t}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[t,w,h]),(0,A.useEffect)((function(){m.length&&w&&k(m,w)}),[m,w]);var E=(0,A.useCallback)((function(e){!function(t){var n=t.columnId;b&&h((0,he.cN)({taskByColumns:(0,s.Z)((0,s.Z)({},b),{},(0,o.Z)({},n,b[n]?[].concat((0,i.Z)(b[n]),[e]):[e]))}))}(e)}),[b,h]),D=(0,A.useCallback)((function(e){!function(e){if(h((0,he.Bx)({columns:m.filter((function(t){return t._id!==e}))})),b){var t=e,n=(b[t],(0,r.Z)(b,[t].map(a.Z)));h((0,he.cN)({taskByColumns:n}))}}(e)}),[b,h,m]),N=(0,A.useCallback)((function(e){!function(e){var t=e.columnId,n=e._id;b&&h((0,he.cN)({taskByColumns:(0,s.Z)((0,s.Z)({},b),{},(0,o.Z)({},t,b[t].filter((function(e){return e._id!==n}))))}))}(e)}),[b,h]),M=(0,A.useCallback)((function(e){var t;t=e,b&&h((0,he.cN)({taskByColumns:(0,s.Z)((0,s.Z)({},b),{},(0,o.Z)({},t.columnId,b[t.columnId].map((function(e){return e._id===t._id?t:e}))))}))}),[b,h]),P=function(){return T(!0)},R=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(n,r){var a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!w||!t){e.next=9;break}return O(!0),e.next=5,x(w,t,{title:r,order:m.length});case 5:a=e.sent,O(!1),h((0,he.Bx)({columns:[].concat((0,i.Z)(m),[a])})),h((0,he.cN)({taskByColumns:(0,s.Z)((0,s.Z)({},b),{},(0,o.Z)({},a._id,[]))}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,q.jsxs)("div",{className:xe,children:[(0,q.jsx)(p.Z,{component:"label",variant:"outlined",color:"basic",onClick:function(){return n(fe.a6)},sx:{alignSelf:"flex-start"},children:e("boards.backBoards")}),(0,q.jsx)(f.Z,{variant:"h3",sx:{fontFamily:'"Nunito Sans", sans-serif',fontSize:"40px",fontWeight:700,textAlign:"center",wordBreak:"break-word"},children:v}),j?(0,q.jsx)(Y.Z,{}):(0,q.jsxs)(G.Z5,{onDragEnd:function(e){var t=e.destination,n=e.source,r=n.index,a=n.droppableId,c=e.type;if(t){var u=t.droppableId,d=t.index;if(c!==me){if(w&&b&&c===oe){var p;if(a===u){var f=pe(b[a],r,t.index);return g(f,a,w),void h((0,he.cN)({taskByColumns:(0,s.Z)((0,s.Z)({},b),{},(0,o.Z)({},a,f))}))}var x=(0,i.Z)(b[a]),Z=(0,i.Z)(b[u]),v=x.splice(r,1),k=(0,l.Z)(v,1)[0],j=(0,s.Z)((0,s.Z)({},k),{},{columnId:u});return Z.splice(d,0,j),g(Z,u,w),void h((0,he.cN)({taskByColumns:(0,s.Z)((0,s.Z)({},b),{},(p={},(0,o.Z)(p,a,x),(0,o.Z)(p,u,Z),p))}))}}else h((0,he.Bx)({columns:pe(m,r,d)}))}},children:[I&&(0,te.createPortal)((0,q.jsx)(Y.Z,{}),ee.Y),(0,q.jsx)(G.bK,{droppableId:"board",type:me,direction:"horizontal",children:function(t){return(0,q.jsxs)("div",(0,s.Z)((0,s.Z)({className:Ze,ref:t.innerRef},t.droppableProps),{},{children:[m.map((function(e,t){var n=e._id,r=e.title,a=e.order;return(0,q.jsx)(ue,{id:n,index:t,title:r,order:a,addTask:E,delColumn:D,editTask:M,delTask:N},n)})),t.placeholder,(0,q.jsx)("div",{className:ve,onClick:P,children:(0,q.jsx)(d.Z,{fontSize:"large",sx:{color:"#d4d4d4"}})}),_&&(0,q.jsx)(K.P,{title:e("boards.formColumnCreate"),openModal:_,setOpenModal:T,children:(0,q.jsx)(de,{handleClickCreateColumn:R,openModal:_,setOpenModal:T})})]}))}})]})]})}},799:function(e,t,n){n.d(t,{D:function(){return x}});var r=n(8311),a=n(8344),o=n(228),i=n(788),s=n(464),c=n(8440),u=n(9571),l=n(7323),d=n(3811),p=n(3168),f=n(184),h={width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:1};function x(e){var t=(0,p.$)().t,n=function(){e.setOpenDialog(!1)};return(0,f.jsx)(o.Z,{children:(0,f.jsxs)(i.Z,{open:e.openDialog,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{"& .MuiPaper-root":{borderRadius:2.5}},children:[(0,f.jsx)(s.Z,{id:"alert-dialog-title",children:e.title}),(0,f.jsx)(c.Z,{children:(0,f.jsx)(u.Z,{id:"alert-dialog-description",children:t("boards.dialogWarning")})}),(0,f.jsx)(l.Z,{children:(0,f.jsxs)(o.Z,{sx:h,children:[(0,f.jsx)(d.Z,{onClick:function(t){e.func(t),n()},color:"success",children:(0,f.jsx)(a.Z,{})}),(0,f.jsx)(d.Z,{onClick:n,color:"colorful",children:(0,f.jsx)(r.Z,{})})]})})]})})}},2002:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(5112),a={"loader-wrapper":"Loader_loader-wrapper__eIZq7",loader:"Loader_loader__+-oxd",spin:"Loader_spin__T7atc","spin-reverse":"Loader_spin-reverse__nZoHd",loaded:"Loader_loaded__BMbOS"},o=n(184),i=function(){return(0,o.jsx)(r.Z,{sx:{backgroundColor:"rgba(0, 0, 0, 0)",zIndex:9},open:!0,children:(0,o.jsxs)("div",{className:a["loader-wrapper"],children:[(0,o.jsx)("div",{className:a.loader}),(0,o.jsx)("div",{className:[a["loader-section"],a["section-left"]].join(" ")}),(0,o.jsx)("div",{className:[a["loader-section"],a["section-right"]].join(" ")})]})})}},7087:function(e,t,n){n.d(t,{P:function(){return d}});var r=n(228),a=n(4015),o=n(4360),i=n(7012),s=n(4565),c=(n(2791),n(184)),u={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:600,width:"90%",gap:5,p:{xs:2.5,sm:5},display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",bgcolor:"background.paper",borderRadius:2.5},l=(0,o.Z)({typography:{allVariants:{fontFamily:['"Noto Sans"',"Roboto","Arial","sans-serif"].join(","),textTransform:"none"}}});function d(e){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(a.Z,{open:e.openModal,onClose:function(){e.setOpenModal(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,c.jsx)(r.Z,{sx:u,children:(0,c.jsxs)(i.Z,{theme:l,children:[(0,c.jsx)(s.Z,{id:"modal-modal-title",variant:"h6",component:"h2",textAlign:"center",children:e.title}),e.children]})})})})}},483:function(e,t,n){n.d(t,{Z:function(){return P}});var r=n(1413),a=n(4165),o=n(5861),i=n(9439),s=n(6732),c=n(9434),u=n(2791),l=n(4565),d="Task_task__F5CUh",p=n(799),f=n(3699);function h(e,t,n,r,a){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)((0,a.Z)().mark((function e(t,n,r,o,i){var s,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f.hM,"/").concat(n,"/columns/").concat(r,"/tasks/").concat(o),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(i)});case 3:if((s=e.sent).ok){e.next=6;break}throw new Error("Request failed with status code ".concat(s.status));case 6:return e.next=8,s.json();case 8:return c=e.sent,e.abrupt("return",c);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var Z=n(7087),v=n(228),m=n(8877),k=n(7205),b=n(4533),j=n(3168),g=n(184),w={maxWidth:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:5};function y(e){var t=(0,j.$)().t,n=(0,u.useRef)(),r=(0,u.useRef)(),s=(0,u.useState)(null),d=(0,i.Z)(s,2),p=d[0],f=d[1],h=(0,c.v9)((function(e){return e.auth})).token;(0,u.useEffect)((function(){n.current.value=e.title,r.current.value=e.description}),[]),(0,u.useEffect)((function(){var t=function(){var t=(0,o.Z)((0,a.Z)().mark((function t(){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!h){t.next=5;break}return t.next=3,(0,b.P)(h,e.userId);case 3:n=t.sent,f(n.login);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e.userId,h]);return(0,g.jsx)("form",{style:{width:"100%"},onSubmit:function(t){var a=n.current.value,o=r.current.value;e.handleClickEditButton(t,a,o),e.setOpenUpdate(!1)},children:(0,g.jsxs)(v.Z,{sx:w,children:[(0,g.jsx)(m.Z,{variant:"outlined",label:t("boards.formTaskTitle"),name:"title",inputRef:n,autoFocus:!0,multiline:!0,fullWidth:!0,required:!0,sx:{wordBreak:"break-word"}}),(0,g.jsx)(m.Z,{variant:"outlined",label:t("boards.formTaskDesc"),name:"description",inputRef:r,multiline:!0,minRows:5,fullWidth:!0,required:!0,sx:{wordBreak:"break-word"}}),!!p&&(0,g.jsxs)(l.Z,{children:[t("boards.taskOwner"),": ",p]}),(0,g.jsx)(k.Z,{type:"submit",variant:"outlined",size:"large",color:"success",children:t("boards.updateButton")})]})})}var C=n(2797),_=n(3811),T=n(6992),S=n(4020),B=n(8008),I=n(2601),O=n(8471),E=function(e){var t=e.handleClickOpenDialog,n=e.handleClickOpenUpdate,r=e.setIsHovering,a=(0,u.useState)(null),o=(0,i.Z)(a,2),s=o[0],c=o[1],l=Boolean(s),d=function(){r(!1),c(null)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{onClick:function(e){e.preventDefault(),c(e.currentTarget)},onTouchEnd:function(e){e.preventDefault(),c(e.currentTarget)},"aria-label":"open",sx:{position:"absolute",top:"50%",right:0,zIndex:2,transform:"translateY(-50%)"},children:(0,g.jsx)(B.Z,{fontSize:"small"})}),l&&(0,g.jsxs)(T.Z,{anchorEl:s,open:l,onClose:d,MenuListProps:{"aria-labelledby":"basic-button"},sx:{"& .MuiPaper-root":{borderRadius:"10px",boxShadow:"0 0 20px #d4d4d4"}},children:[(0,g.jsx)(S.Z,{children:(0,g.jsx)(_.Z,{onClick:function(){n(),d()},"aria-label":"edit",children:(0,g.jsx)(O.Z,{fontSize:"small"})})}),(0,g.jsx)(S.Z,{children:(0,g.jsx)(_.Z,{onClick:function(){t(),d()},"aria-label":"delete",children:(0,g.jsx)(I.Z,{fontSize:"small"})})})]})]})},D=n(2002),N=n(7637),M=n(4164),P=function(e){var t=e.idColumn,n=e.task,f=n._id,x=n.title,v=n.description,m=n.order,k=n.userId,b=n.users,w=n.boardId,_=e.delTask,T=e.editTask,S=e.isDragging,B=e.provider,I=(0,C.Z)("(pointer: coarse)"),O=(0,j.$)().t,P=(0,c.v9)((function(e){return e.auth})).token,R=(0,u.useState)(!1),A=(0,i.Z)(R,2),z=A[0],q=A[1],W=(0,u.useState)(null),F=(0,i.Z)(W,2),L=F[0],U=F[1],$=(0,u.useState)(!1),H=(0,i.Z)($,2),J=H[0],Y=H[1],K=(0,u.useState)(!1),V=(0,i.Z)(K,2),G=V[0],Q=V[1],X=(0,u.useState)(!1),ee=(0,i.Z)(X,2),te=ee[0],ne=ee[1],re=function(){return Y(!0)},ae=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!P){e.next=8;break}return ne(!0),e.next=5,(0,s._)(P,w,t,f);case 5:r=e.sent,ne(!1),_(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n,r,o){var i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=8;break}return ne(!0),e.next=4,h(P,w,t,f,{order:m,columnId:t,userId:k,users:b,title:r,description:o});case 4:i=e.sent,ne(!1),T(i),U(L);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return(0,g.jsxs)(g.Fragment,{children:[te&&(0,M.createPortal)((0,g.jsx)(D.Z,{}),N.Y),(0,g.jsxs)("div",(0,r.Z)((0,r.Z)((0,r.Z)({},null===B||void 0===B?void 0:B.draggableProps),null===B||void 0===B?void 0:B.dragHandleProps),{},{style:(0,r.Z)({backgroundColor:S?"#d4d4d4":"transparent"},null===B||void 0===B?void 0:B.draggableProps.style),ref:null===B||void 0===B?void 0:B.innerRef,onMouseEnter:function(){return q(!0)},onMouseLeave:function(){return q(!1)},className:d,children:[(0,g.jsx)(l.Z,{variant:"body1",sx:{flex:"auto",width:"90%",fontFamily:'"Noto Sans", sans-serif',fontWeight:400,fontSize:"16px",textAlign:"left",wordBreak:"break-word"},onClick:re,children:L?L.title:x}),(z||I)&&(0,g.jsx)(E,{handleClickOpenUpdate:re,handleClickOpenDialog:function(){return Q(!0)},setIsHovering:q}),J&&(0,g.jsx)(Z.P,{title:O("boards.formTaskUpdate"),openModal:J,setOpenModal:Y,children:(0,g.jsx)(y,{title:L?L.title:x,description:L?L.description:v,userId:k,users:b,handleClickEditButton:oe,openUpdate:J,setOpenUpdate:Y})}),G&&(0,g.jsx)(p.D,{title:O("boards.dialogTask"),openDialog:G,setOpenDialog:Q,func:ae})]}))]})}}}]);
//# sourceMappingURL=371.1335bfd9.chunk.js.map